if("undefined"==typeof $&&!window.jQuery)var $=function(u,r){return bonzo(qwery(u,r))};(function(u,r,l){"undefined"!=typeof module&&module.exports?module.exports=l():"function"==typeof define&&define.amd?define(l):r[u]=l()})("qwery",this,function(){function u(k){return[].slice.call(k,0)}function r(k){var m;return k&&"object"===typeof k&&(m=k.nodeType)&&(1==m||9==m)}function l(k){return"object"===typeof k&&isFinite(k.length)}function q(k,m){var v,n;n=m?"string"==typeof m?q(m)[0]:!m.nodeType&&l(m)?m[0]:m:C;if(!n||!k)return[];if(k===A||r(k))return!m||k!==A&&r(n)&&z(k,n)?[k]:[];if(k&&l(k)){v=
[];n=0;for(var w=k.length;n<w;++n)l(k[n])?v=v.concat(k[n]):v[v.length]=k[n];return v}return C.getElementsByClassName&&"string"==k&&(v=k.match(G))?u(n.getElementsByClassName(v[1])):k&&(k.document||k.nodeType&&9==k.nodeType)?m?[]:[k]:u(n.querySelectorAll(k))}var G=/^\.([\w\-]+)$/,C=document,A=window,w=C.documentElement,z="compareDocumentPosition"in w?function(k,m){return 16==(m.compareDocumentPosition(k)&16)}:function(k,m){m=m==C||m==window?w:m;return m!==k&&m.contains(k)};q.uniq=function(k){var m=
[],l,n;l=0;a:for(;l<k.length;l++){for(n=0;n<m.length;n++)if(m[n]==k[l])continue a;m[m.length]=k[l]}return m};return q},this);(function(u,r,l){"undefined"!=typeof module&&module.exports?module.exports=l():"function"==typeof define&&define.amd?define(l):r[u]=l()})("bonzo",this,function(){function u(a,f){var t=null,b=x.defaultView.getComputedStyle(a,"");b&&(t=b[f]);return a.style[f]||t}function r(a){return a&&a.nodeName&&(1==a.nodeType||11==a.nodeType)}function l(a,f,t){var b,c;if("string"==typeof a)return p.create(a);r(a)&&(a=[a]);if(t){c=[];t=0;for(b=a.length;t<b;t++)c[t]=y(f,a[t]);return c}return a}function q(a,f,t,b){for(var c,
d=0,e=a.length;d<e;d++)c=b?a.length-d-1:d,f.call(t||a[c],a[c],c,a);return a}function G(a,f,t){for(var b=0,c=a.length;b<c;b++)r(a[b])&&(G(a[b].childNodes,f,t),f.call(t||a[b],a[b],b,a));return a}function C(a){return a.replace(/-(.)/g,function(a,t){return t.toUpperCase()})}function A(a){return a?a.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase():a}function w(a){a.getAttribute("data-node-uid")||a.setAttribute("data-node-uid",++Y);a=a.getAttribute("data-node-uid");return T[a]||(T[a]={})}function z(a){(a=
a.getAttribute("data-node-uid"))&&delete T[a]}function k(a){var f;try{return null===a||void 0===a?void 0:"true"===a?!0:"false"===a?!1:"null"===a?null:(f=parseFloat(a))==a?f:a}catch(t){}}function m(a,f,t){for(var b=0,c=a.length;b<c;++b)if(f.call(t||null,a[b],b,a))return!0;return!1}function v(a){"transform"==a&&(a=U.transform)||/^transform-?[Oo]rigin$/.test(a)&&(a=U.transform+"Origin");return a?C(a):null}function n(a,f,t,b){var c=0,d=f||this,e=[];a=V&&"string"==typeof a&&"<"!=a.charAt(0)?V(a):a;q(l(a),
function(a,f){q(d,function(b){t(a,e[c++]=0<f?y(d,b):b)},null,b)},this,b);d.length=c;q(e,function(a){d[--c]=a},null,!b);return d}function K(a,f,b){var c=p(a),d=c.css("position"),e=c.offset(),h="relative"==d,g=[parseInt(c.css("left"),10),parseInt(c.css("top"),10)];"static"==d&&c.css("position","relative");isNaN(g[0])&&(g[0]=h?0:a.offsetLeft);isNaN(g[1])&&(g[1]=h?0:a.offsetTop);null!=f&&(a.style.left=f-e.left+g[0]+"px");null!=b&&(a.style.top=b-e.top+g[1]+"px")}function D(a,f){return"function"==typeof f?
f.call(a,a):f}function L(a,f,b){var c=this[0];if(!c)return this;if(null==a&&null==f)return(I(c)?{x:B.pageXOffset||E.scrollLeft,y:B.pageYOffset||E.scrollTop}:{x:c.scrollLeft,y:c.scrollTop})[b];I(c)?B.scrollTo(a,f):(null!=a&&(c.scrollLeft=a),null!=f&&(c.scrollTop=f));return this}function J(a){this.length=0;if(a){a="string"===typeof a||a.nodeType||"undefined"===typeof a.length?[a]:a;this.length=a.length;for(var f=0;f<a.length;f++)this[f]=a[f]}}function y(a,f){var b=f.cloneNode(!0),c,d,e;if(a.$&&"function"==
typeof a.cloneEvents)for(a.$(b).cloneEvents(f),c=a.$(b).find("*"),d=a.$(f).find("*"),e=0;e<d.length;e++)a.$(c[e]).cloneEvents(d[e]);return b}function I(a){return a===B||/^(?:body|html)$/i.test(a.tagName)}function O(a){var f=document.createElement("script");a=a.match(H);f.src=a[1];return f}function p(a){return new J(a)}var B=window,x=B.document,E=x.documentElement,P=/^(checked|value|selected|disabled)$/i,W=/^(select|fieldset|table|tbody|tfoot|td|tr|colgroup)$/i,H=/\s*<script +src=['"]([^'"]+)['"]>/,
F=["<table>","</table>",1],Q=["<table><tbody><tr>","</tr></tbody></table>",3],M=["<select>","</select>",1],e=["_","",0,1],b={thead:F,tbody:F,tfoot:F,colgroup:F,caption:F,tr:["<table><tbody>","</tbody></table>",2],th:Q,td:Q,col:["<table><colgroup>","</colgroup></table>",2],fieldset:["<form>","</form>",1],legend:["<form><fieldset>","</fieldset></form>",2],option:M,optgroup:M,script:e,style:e,link:e,param:e,base:e},c=/^(checked|selected|disabled)$/,d,h,g,T={},Y=0,X=/^-?[\d\.]+$/,N=/^data-(.+)$/,U=function(){var a=
x.createElement("p"),f;a:{f=["transform","webkitTransform","MozTransform","OTransform","msTransform"];var b;for(b=0;b<f.length;b++)if(f[b]in a.style){f=f[b];break a}f=void 0}return{transform:f,classList:"classList"in a}}(),R=/\s+/,S=String.prototype.toString,Z={lineHeight:1,zoom:1,zIndex:1,opacity:1,boxFlex:1,WebkitBoxFlex:1,MozBoxFlex:1},V=x.querySelectorAll&&function(a){return x.querySelectorAll(a)};U.classList?(d=function(a,f){return a.classList.contains(f)},h=function(a,f){a.classList.add(f)},
g=function(a,f){a.classList.remove(f)}):(d=function(a,f){return(new RegExp("(^|\\s+)"+f+"(\\s+|$)")).test(a.className)},h=function(a,f){a.className=(a.className+" "+f).trim()},g=function(a,f){a.className=a.className.replace(new RegExp("(^|\\s+)"+f+"(\\s+|$)")," ").trim()});J.prototype={get:function(a){return this[a]||null},each:function(a,f){return q(this,a,f)},deepEach:function(a,f){return G(this,a,f)},map:function(a,f){var b=[],c,d;for(d=0;d<this.length;d++)c=a.call(this,this[d],d),f?f(c)&&b.push(c):
b.push(c);return b},html:function(a,f){var b=f?"textContent":"innerHTML",c=this,d=function(f,b){q(l(a,c,b),function(a){f.appendChild(a)})},e=function(c,e){try{if(f||"string"==typeof a&&!W.test(c.tagName))return c[b]=a}catch(h){}d(c,e)};return"undefined"!=typeof a?this.empty().each(e):this[0]?this[0][b]:""},text:function(a){return this.html(a,!0)},append:function(a){var f=this;return this.each(function(b,c){q(l(a,f,c),function(a){b.appendChild(a)})})},prepend:function(a){var f=this;return this.each(function(b,
c){var d=b.firstChild;q(l(a,f,c),function(a){b.insertBefore(a,d)})})},appendTo:function(a,f){return n.call(this,a,f,function(a,f){a.appendChild(f)})},prependTo:function(a,f){return n.call(this,a,f,function(a,f){a.insertBefore(f,a.firstChild)},1)},before:function(a){var f=this;return this.each(function(b,c){q(l(a,f,c),function(a){b.parentNode.insertBefore(a,b)})})},after:function(a){var f=this;return this.each(function(b,c){q(l(a,f,c),function(a){b.parentNode.insertBefore(a,b.nextSibling)},null,1)})},
insertBefore:function(a,f){return n.call(this,a,f,function(a,f){a.parentNode.insertBefore(f,a)})},insertAfter:function(a,f){return n.call(this,a,f,function(a,f){var b=a.nextSibling;b?a.parentNode.insertBefore(f,b):a.parentNode.appendChild(f)},1)},replaceWith:function(a){var f=this;return this.each(function(b,c){q(l(a,f,c),function(a){b.parentNode&&b.parentNode.replaceChild(a,b)})})},clone:function(a){var f=[],b,c;c=0;for(b=this.length;c<b;c++)f[c]=y(a||this,this[c]);return p(f)},addClass:function(a){a=
S.call(a).split(R);return this.each(function(f){q(a,function(a){a&&!d(f,D(f,a))&&h(f,D(f,a))})})},removeClass:function(a){a=S.call(a).split(R);return this.each(function(f){q(a,function(a){a&&d(f,D(f,a))&&g(f,D(f,a))})})},hasClass:function(a){a=S.call(a).split(R);return m(this,function(f){return m(a,function(a){return a&&d(f,a)})})},toggleClass:function(a,f){a=S.call(a).split(R);return this.each(function(b){q(a,function(a){a&&("undefined"!==typeof f?f?!d(b,a)&&h(b,a):g(b,a):d(b,a)?g(b,a):h(b,a))})})},
show:function(a){a="string"==typeof a?a:"";return this.each(function(b){b.style.display=a})},hide:function(){return this.each(function(a){a.style.display="none"})},toggle:function(a,b){b="string"==typeof b?b:"";"function"!=typeof a&&(a=null);return this.each(function(c){c.style.display=c.offsetWidth||c.offsetHeight?"none":b;a&&a.call(c)})},first:function(){return p(this.length?this[0]:[])},last:function(){return p(this.length?this[this.length-1]:[])},next:function(){return this.related("nextSibling")},
previous:function(){return this.related("previousSibling")},parent:function(){return this.related("parentNode")},related:function(a){return p(this.map(function(b){for(b=b[a];b&&1!==b.nodeType;)b=b[a];return b||0},function(a){return a}))},focus:function(){this.length&&this[0].focus();return this},blur:function(){this.length&&this[0].blur();return this},css:function(a,b){var c,d=a;if(void 0===b&&"string"==typeof a)return b=this[0],b?b===x||b===B?(c=b===x?p.doc():p.viewport(),"width"==a?c.width:"height"==
a?c.height:""):(a=v(a))?u(b,a):null:null;"string"==typeof a&&(d={},d[a]=b);return this.each(function(a,b,c){for(var f in d)if(d.hasOwnProperty(f)){c=d[f];(b=v(f))&&X.test(c)&&!(b in Z)&&(c+="px");try{a.style[b]=D(a,c)}catch(e){}}})},offset:function(a,b){if(a&&"object"==typeof a&&("number"==typeof a.top||"number"==typeof a.left))return this.each(function(b){K(b,a.left,a.top)});if("number"==typeof a||"number"==typeof b)return this.each(function(c){K(c,a,b)});if(!this[0])return{top:0,left:0,height:0,
width:0};var c=this[0],d=c.ownerDocument.documentElement,e=c.getBoundingClientRect(),h=B.pageXOffset||E.scrollLeft,g=c.offsetWidth,c=c.offsetHeight,k=e.top+(B.pageYOffset||E.scrollTop)-Math.max(0,d&&d.clientTop,x.body.clientTop),d=e.left+h-Math.max(0,d&&d.clientLeft,x.body.clientLeft);return{top:k,left:d,height:c,width:g}},dim:function(){if(!this.length)return{height:0,width:0};var a=this[0],b=9==a.nodeType&&a.documentElement,c;b||!a.style||a.offsetWidth||a.offsetHeight?c=null:(c={position:a.style.position||
"",visibility:a.style.visibility||"",display:a.style.display||""},this.first().css({position:"absolute",visibility:"hidden",display:"block"}));var d=b?Math.max(a.body.scrollWidth,a.body.offsetWidth,b.scrollWidth,b.offsetWidth,b.clientWidth):a.offsetWidth,a=b?Math.max(a.body.scrollHeight,a.body.offsetHeight,b.scrollHeight,b.offsetHeight,b.clientHeight):a.offsetHeight;c&&this.first().css(c);return{height:a,width:d}},attr:function(a,b){var d=this[0],e;if("string"!=typeof a&&!(a instanceof String)){for(e in a)a.hasOwnProperty(e)&&
this.attr(e,a[e]);return this}return"undefined"==typeof b?d?P.test(a)?c.test(a)&&"string"==typeof d[a]?!0:d[a]:d.getAttribute(a):null:this.each(function(c){P.test(a)?c[a]=D(c,b):c.setAttribute(a,D(c,b))})},removeAttr:function(a){return this.each(function(b){c.test(a)?b[a]=!1:b.removeAttribute(a)})},val:function(a){return"string"==typeof a||"number"==typeof a?this.attr("value",a):this.length?this[0].value:null},data:function(a,b){var c=this[0],d,e;if("undefined"===typeof b){if(!c)return null;d=w(c);
if("undefined"===typeof a)return q(c.attributes,function(a){(e=(""+a.name).match(N))&&(d[C(e[1])]=k(a.value))}),d;"undefined"===typeof d[a]&&(d[a]=k(this.attr("data-"+A(a))));return d[a]}return this.each(function(c){w(c)[a]=b})},remove:function(){this.deepEach(z);return this.detach()},empty:function(){return this.each(function(a){for(G(a.childNodes,z);a.firstChild;)a.removeChild(a.firstChild)})},detach:function(){return this.each(function(a){a.parentNode&&a.parentNode.removeChild(a)})},scrollTop:function(a){return L.call(this,
null,a,"y")},scrollLeft:function(a){return L.call(this,a,null,"x")}};p.setQueryEngine=function(a){V=a;delete p.setQueryEngine};p.aug=function(a,b){for(var c in a)a.hasOwnProperty(c)&&((b||J.prototype)[c]=a[c])};p.create=function(a){return"string"==typeof a&&""!==a?function(){if(H.test(a))return[O(a)];var c=a.match(/^\s*<([^\s>]+)/),d=x.createElement("div"),e=[],h=c?b[c[1].toLowerCase()]:null,g=h?h[2]+1:1,k=h&&h[3];for(d.innerHTML=h?h[0]+a+h[1]:a;g--;)d=d.firstChild;k&&d&&1!==d.nodeType&&(d=d.nextSibling);
do c&&1!=d.nodeType||e.push(d);while(d=d.nextSibling);q(e,function(a){a.parentNode&&a.parentNode.removeChild(a)});return e}():r(a)?[a.cloneNode(!0)]:[]};p.doc=function(){var a=p.viewport();return{width:Math.max(x.body.scrollWidth,E.scrollWidth,a.width),height:Math.max(x.body.scrollHeight,E.scrollHeight,a.height)}};p.firstChild=function(a){a=a.childNodes;for(var b=0,c=a&&a.length||0,d;b<c;b++)1===a[b].nodeType&&(d=a[c=b]);return d};p.viewport=function(){return{width:B.innerWidth,height:B.innerHeight}};
p.isAncestor="compareDocumentPosition"in E?function(a,b){return 16==(a.compareDocumentPosition(b)&16)}:function(a,b){return a!==b&&a.contains(b)};return p});(function(u,r,l){"undefined"!=typeof module&&module.exports?module.exports=l():"function"==typeof define&&define.amd?define(l):r[u]=l()})("bean",this,function(u,r){u=u||"bean";r=r||this;var l=window,q=r[u],G=/[^\.]*(?=\..*)\.|.*/,C=/\..*/,A=document||{},w=A.documentElement||{},z=w.addEventListener,k=z?"addEventListener":"attachEvent",m={},v=Array.prototype.slice,n=function(e,b){return e.split(b||" ")},K=function(e,b,c){for(c=0;c<b.length;c++)b[c]&&(e[b[c]]=1);return e}({},n("click dblclick mouseup mousedown contextmenu mousewheel mousemultiwheel DOMMouseScroll mouseover mouseout mousemove selectstart selectend keydown keypress keyup orientationchange focus blur change reset select submit load unload beforeunload resize move DOMContentLoaded readystatechange message error abort scroll "+
(z?"show input invalid touchstart touchmove touchend touchcancel gesturestart gesturechange gestureend textinput readystatechange pageshow pagehide popstate hashchange offline online afterprint beforeprint dragstart dragenter dragover dragleave drag drop dragend loadstart progress suspend emptied stalled loadmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended durationchange timeupdate play pause ratechange volumechange cuechange checking noupdate downloading cached updateready obsolete ":
""))),D=function(){var e="compareDocumentPosition"in w?function(b,d){return d.compareDocumentPosition&&16===(d.compareDocumentPosition(b)&16)}:"contains"in w?function(b,d){d=9===d.nodeType||d===window?w:d;return d!==b&&d.contains(b)}:function(b,d){for(;b=b.parentNode;)if(b===d)return 1;return 0},b=function(b){return(b=b.relatedTarget)?b!==this&&"xul"!==b.prefix&&!/document/.test(this.toString())&&!e(b,this):null==b};return{mouseenter:{base:"mouseover",condition:b},mouseleave:{base:"mouseout",condition:b},
mousewheel:{base:/Firefox/.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel"}}}(),L=function(){var e=n("altKey attrChange attrName bubbles cancelable ctrlKey currentTarget detail eventPhase getModifierState isTrusted metaKey relatedNode relatedTarget shiftKey srcElement target timeStamp type view which propertyName"),b=e.concat(n("button buttons clientX clientY dataTransfer fromElement offsetX offsetY pageX pageY screenX screenY toElement")),c=b.concat(n("wheelDelta wheelDeltaX wheelDeltaY wheelDeltaZ axis")),
d=e.concat(n("char charCode key keyCode keyIdentifier keyLocation location")),h=e.concat(n("data")),g=e.concat(n("touches targetTouches changedTouches scale rotation")),k=e.concat(n("data origin source")),m=e.concat(n("state")),X=/over|out/,N=[{reg:/key/i,fix:function(b,c){c.keyCode=b.keyCode||b.which;return d}},{reg:/click|mouse(?!(.*wheel|scroll))|menu|drag|drop/i,fix:function(c,d,e){d.rightClick=3===c.which||2===c.button;d.pos={x:0,y:0};if(c.pageX||c.pageY)d.clientX=c.pageX,d.clientY=c.pageY;else if(c.clientX||
c.clientY)d.clientX=c.clientX+A.body.scrollLeft+w.scrollLeft,d.clientY=c.clientY+A.body.scrollTop+w.scrollTop;X.test(e)&&(d.relatedTarget=c.relatedTarget||c[("mouseover"==e?"from":"to")+"Element"]);return b}},{reg:/mouse.*(wheel|scroll)/i,fix:function(){return c}},{reg:/^text/i,fix:function(){return h}},{reg:/^touch|^gesture/i,fix:function(){return g}},{reg:/^message$/i,fix:function(){return k}},{reg:/^popstate$/i,fix:function(){return m}},{reg:/.*/,fix:function(){return e}}],p={},q=function(b,c,
d){if(arguments.length&&(this.originalEvent=b=b||((c.ownerDocument||c.document||c).parentWindow||l).event,this.isNative=d,this.isBean=!0,b)){var a=b.type,f=b.target||b.srcElement,e,h,g;this.target=f&&3===f.nodeType?f.parentNode:f;if(d){g=p[a];if(!g)for(f=0,e=N.length;f<e;f++)if(N[f].reg.test(a)){p[a]=g=N[f].fix;break}a=g(b,this,a);for(f=a.length;f--;)!((h=a[f])in this)&&h in b&&(this[h]=b[h])}}};q.prototype.preventDefault=function(){this.originalEvent.preventDefault?this.originalEvent.preventDefault():
this.originalEvent.returnValue=!1};q.prototype.stopPropagation=function(){this.originalEvent.stopPropagation?this.originalEvent.stopPropagation():this.originalEvent.cancelBubble=!0};q.prototype.stop=function(){this.preventDefault();this.stopPropagation();this.stopped=!0};q.prototype.stopImmediatePropagation=function(){this.originalEvent.stopImmediatePropagation&&this.originalEvent.stopImmediatePropagation();this.isImmediatePropagationStopped=function(){return!0}};q.prototype.isImmediatePropagationStopped=
function(){return this.originalEvent.isImmediatePropagationStopped&&this.originalEvent.isImmediatePropagationStopped()};q.prototype.clone=function(b){var c=new q(this,this.element,this.isNative);c.currentTarget=b;return c};return q}(),J=function(){var e=function(b,d,e,g){var k=function(e,h){return d.apply(b,g?v.call(h,e?0:1).concat(g):h)},l=e?function(g){var l=d.__beanDel?d.__beanDel.ft(g.target,b):this;if(e.apply(l,arguments))return g&&(g.currentTarget=l),k(g,arguments)}:function(e){d.__beanDel&&
(e=e.clone(d.__beanDel?d.__beanDel.ft(e.target,b):void 0));return k(e,arguments)};l.__beanDel=d.__beanDel;return l},b=function(b,d,h,g,n,m,q){var p=D[d];"unload"==d&&(h=x(E,b,d,h,g));p&&(p.condition&&(h=e(b,h,p.condition,m)),d=p.base||d);this.isNative=p=K[d]&&!!b[k];this.customType=!z&&!p&&d;this.element=b;this.type=d;this.original=g;this.namespaces=n;this.eventType=z||p?d:"propertychange";this.target=z||p||b!==A&&b!==l?b:w;this[k]=!!this.target[k];this.root=q;this.handler=e(b,h,null,m)};b.prototype.inNamespaces=
function(b){var d,e,g=0;if(!b)return!0;if(!this.namespaces)return!1;for(d=b.length;d--;)for(e=this.namespaces.length;e--;)b[d]==this.namespaces[e]&&g++;return b.length===g};b.prototype.matches=function(b,d,e){return this.element===b&&(!d||this.original===d)&&(!e||this.handler===e)};return b}(),y=function(){var e={},b=function(c,d,h,g,k,l){var n=k?"r":"$";if(d&&"*"!=d){k=0;var m=e[n+d],p="*"==c;if(m)for(n=m.length;k<n&&(!p&&!m[k].matches(c,h,g)||l(m[k],m,k,d));k++);}else for(m in e)m.charAt(0)==n&&
b(c,m.substr(1),h,g,k,l)};return{has:function(b,d,h,g){if(g=e[(g?"r":"$")+d])for(d=g.length;d--;)if(!g[d].root&&g[d].matches(b,h,null))return!0;return!1},get:function(c,d,e,g){var k=[];b(c,d,e,null,g,function(b){return k.push(b)});return k},put:function(b){var d=!b.root&&!this.has(b.element,b.type,null,!1),h=(b.root?"r":"$")+b.type;(e[h]||(e[h]=[])).push(b);return d},del:function(c){b(c.element,c.type,null,c.handler,c.root,function(b,c,g){c.splice(g,1);b.removed=!0;0===c.length&&delete e[(b.root?
"r":"$")+b.type];return!1})},entries:function(){var b,d=[];for(b in e)"$"==b.charAt(0)&&(d=d.concat(e[b]));return d}}}(),I,O=function(e){I=arguments.length?e:A.querySelectorAll?function(b,c){return c.querySelectorAll(b)}:function(){throw Error("Bean: No selector engine installed");}},p=function(e,b){if(z||!b||!e||e.propertyName=="_on"+b){var c=y.get(this,b||e.type,null,!1),d=c.length,h=0;e=new L(e,this,!0);b&&(e.type=b);for(;h<d&&!e.isImmediatePropagationStopped();h++)c[h].removed||c[h].handler.call(this,
e)}},B=z?function(e,b,c){e[c?"addEventListener":"removeEventListener"](b,p,!1)}:function(e,b,c,d){if(c)y.put(b=new J(e,d||b,function(b){p.call(e,b,d)},p,null,null,!0)),d&&null==e["_on"+d]&&(e["_on"+d]=0),b.target.attachEvent("on"+b.eventType,b.handler);else if(b=y.get(e,d||b,p,!0)[0])b.target.detachEvent("on"+b.eventType,b.handler),y.del(b)},x=function(e,b,c,d,h){return function(){d.apply(this,arguments);e(b,c,h)}},E=function(e,b,c,d){b=b&&b.replace(C,"");b=y.get(e,b,null,!1);var h={},g,l;g=0;for(l=
b.length;g<l;g++)c&&b[g].original!==c||!b[g].inNamespaces(d)||(y.del(b[g]),!h[b[g].eventType]&&b[g][k]&&(h[b[g].eventType]={t:b[g].eventType,c:b[g].type}));for(g in h)y.has(e,h[g].t,null,!1)||B(e,h[g].t,!1,h[g].c)},P=function(e,b){var c=function(b,c){for(var d,k="string"==typeof e?I(e,c):e;b&&b!==c;b=b.parentNode)for(d=k.length;d--;)if(k[d]===b)return b},d=function(d){var e=c(d.target,this);e&&b.apply(e,arguments)};d.__beanDel={ft:c,selector:e};return d},W=z?function(e,b,c){var d=A.createEvent(e?
"HTMLEvents":"UIEvents");d[e?"initEvent":"initUIEvent"](b,!0,!0,l,1);c.dispatchEvent(d)}:function(e,b,c){c=z||e||c!==A&&c!==l?c:w;e?c.fireEvent("on"+b,A.createEventObject()):c["_on"+b]++},H=function(e,b,c){var d="string"==typeof b,h,g;if(d&&0<b.indexOf(" ")){b=n(b);for(g=b.length;g--;)H(e,b[g],c);return e}(g=d&&b.replace(C,""))&&D[g]&&(g=D[g].base);if(!b||d){if(b=d&&b.replace(G,""))b=n(b,".");E(e,g,c,b)}else if("function"==typeof b)E(e,null,b);else for(h in b)b.hasOwnProperty(h)&&H(e,h,b[h]);return e},
F=function(e,b,c,d){var h,g,l,p,q,r;if(void 0===c&&"object"==typeof b)for(h in b)b.hasOwnProperty(h)&&F.call(this,e,h,b[h]);else{"function"!=typeof c?(h=d,p=v.call(arguments,4),d=P(c,h,I)):(p=v.call(arguments,3),d=h=c);g=n(b);this===m&&(d=x(H,e,b,d,h));for(l=g.length;l--;)r=y.put(q=new J(e,g[l].replace(C,""),d,h,n(g[l].replace(G,""),"."),p,!1)),q[k]&&r&&B(e,q.eventType,!0,q.customType);return e}},Q={on:F,add:function(e,b,c,d){return F.apply(null,"string"!=typeof c?v.call(arguments):[e,c,b,d].concat(3<
arguments.length?v.call(arguments,5):[]))},one:function(){return F.apply(m,arguments)},off:H,remove:H,clone:function(e,b,c){b=y.get(b,c,null,!1);c=b.length;for(var d=0,h,g;d<c;d++)b[d].original&&(h=[e,b[d].type],(g=b[d].handler.__beanDel)&&h.push(g.selector),h.push(b[d].original),F.apply(null,h));return e},fire:function(e,b,c){var d=n(b),h,g,l,m;for(h=d.length;h--;){b=d[h].replace(C,"");if(l=d[h].replace(G,""))l=n(l,".");if(l||c||!e[k])for(m=y.get(e,b,null,!1),c=[!1].concat(c),b=0,g=m.length;b<g;b++)m[b].inNamespaces(l)&&
m[b].handler.apply(e,c);else W(K[b],b,e)}return e},Event:L,setSelectorEngine:O,noConflict:function(){r[u]=q;return this}};if(l.attachEvent){var M=function(){var e,b=y.entries();for(e in b)b[e].type&&"unload"!==b[e].type&&H(b[e].element,b[e].type);l.detachEvent("onunload",M);l.CollectGarbage&&l.CollectGarbage()};l.attachEvent("onunload",M)}O();return Q});
